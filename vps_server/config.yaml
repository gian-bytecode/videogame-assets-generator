# ═══════════════════════════════════════════════════════════════════════════════
# VPS File Server — Configuration
# ═══════════════════════════════════════════════════════════════════════════════

# ---------- Network ----------
host: "0.0.0.0"
port: 9999

# ---------- SSL / TLS ----------
# Required for WSS. Generate self-signed for testing:
#   openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes
# Or use Let's Encrypt for production.
ssl_cert: "./ssl/cert.pem"
ssl_key:  "./ssl/key.pem"

# ---------- Authentication ----------
password_hash_file: "password.hash"

# ---------- File serving / uploads ----------
# Root directory for serving AND receiving files (model weights + site_packages).
# Structure after build_site_packages.py uploads:
#   serve/
#   └── site_packages/
#       └── ... (all pip packages)
file_root: "./serve"

# ---------- Build Progress ----------
# Tracks which packages have been installed & uploaded.
progress_file: "build_progress.json"

# ---------- Transfer ----------
chunk_size: 1048576        # 1 MiB per WebSocket frame
max_message_size: 10485760 # 10 MiB max incoming message

# ---------- Sessions ----------
session_ttl: 3600    # seconds (1 hour)
max_sessions: 2      # max concurrent authenticated sessions
